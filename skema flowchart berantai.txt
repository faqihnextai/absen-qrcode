Flowchart Bagian 1: device-scanner/common
barcode_reader.py
Start
  â””â”€â”€> Inisialisasi kamera
        â””â”€â”€> Mulai pembacaan barcode
              â””â”€â”€> Jika barcode terdeteksi:
                    â””â”€â”€> Kembalikan nilai barcode
                          â””â”€â”€> End
              â””â”€â”€> Jika tidak ada barcode:
                    â””â”€â”€> Loop ulang membaca

sender.py
Start
  â””â”€â”€> Terima data barcode
        â””â”€â”€> Siapkan koneksi HTTP/HTTPS
              â””â”€â”€> Kirim data ke server (POST)
                    â””â”€â”€> Terima respon
                          â””â”€â”€> Sukses? -> log OK
                          â””â”€â”€> Gagal? -> log error
                                â””â”€â”€> End

File konfigurasi:
{
  "server_url": "http://.../api",
  "device_id": "RPi-001"
}

ğŸ”¹ Flowchart Bagian 2: device-scanner/rpi-version

device-scanner/rpi-version
main.py
Start
  â””â”€â”€> Load config.json
        â””â”€â”€> Inisialisasi kamera (panggil camera_rpi)
              â””â”€â”€> Loop: Baca barcode dari camera_rpi
                    â””â”€â”€> Jika barcode terdeteksi:
                          â””â”€â”€> Kirim ke sender.py
                          â””â”€â”€> Tampilkan log sukses/gagal
                    â””â”€â”€> Delay sejenak
                          â””â”€â”€> Ulangi loop

camera_rpi.py
Start
  â””â”€â”€> Aktifkan kamera PiCamera
        â””â”€â”€> Stream gambar
              â””â”€â”€> Scan frame dengan library zbar/dlib/opencv
                    â””â”€â”€> Jika barcode ditemukan:
                          â””â”€â”€> Return data barcode
                    â””â”€â”€> Else: continue scanning
startup.sh
Start (boot Raspberry Pi)
  â””â”€â”€> Jalankan `python3 main.py`
        â””â”€â”€> Log dijalankan di background
              â””â”€â”€> Siap otomatis tiap boot
note :
sudo nano /etc/rc.local
# Tambahkan sebelum 'exit 0':
python3 /home/pi/absensi-barcode-siswa/device-scanner/rpi-version/main.py &

ğŸ”¹ Flowchart Bagian 3: device-scanner/laptop-version
main.py
Start
  â””â”€â”€> Load config.json
        â””â”€â”€> Inisialisasi webcam (panggil camera_webcam)
              â””â”€â”€> Loop: Baca barcode dari webcam
                    â””â”€â”€> Jika barcode terdeteksi:
                          â””â”€â”€> Kirim ke sender.py
                          â””â”€â”€> Log berhasil/gagal
                    â””â”€â”€> Delay
                          â””â”€â”€> Ulangi loop

camera_webcam.py
Start
  â””â”€â”€> Aktifkan webcam via OpenCV (cv2.VideoCapture)
        â””â”€â”€> Ambil frame secara real-time
              â””â”€â”€> Pindai barcode dari frame
                    â””â”€â”€> Jika ada:
                          â””â”€â”€> Return barcode
                    â””â”€â”€> Else: continue scanning

run_test.bat

Start (klik dua kali)
  â””â”€â”€> Jalankan `python main.py`
        â””â”€â”€> Console terbuka dan proses dimulai

ğŸ”¹ Flowchart Bagian 4: backend-server
ğŸŸ¢ File: app.py
plaintext

Start (Flask App)
  â””â”€â”€> Load environment (.env)
        â””â”€â”€> Connect database (database.py)
              â””â”€â”€> Register route `/scan` (scan_api.py)
                    â””â”€â”€> Run Flask server

 File: scan_api.py
plaintext

Route: /scan (POST)
  â””â”€â”€> Ambil data dari request (barcode + timestamp)
        â””â”€â”€> Validasi & cari siswa (models/siswa.py)
              â””â”€â”€> Jika ditemukan:
                    â””â”€â”€> Simpan ke DB (database.py)
                    â””â”€â”€> Return response sukses
              â””â”€â”€> Jika tidak ditemukan:
                    â””â”€â”€> Return error respon

âœ… Flowchart Tambahan: Barcode Generation
[Admin Input Data Siswa]
        â†“
[Generate Barcode Image]
( barcode_generator.py )
        â†“
[Simpan PNG di /static/barcodes ]
        â†“
[Return URL Barcode ke Frontend]
( untuk ditampilkan / dicetak )


 File: siswa.py

plaintext

Fungsi:
  â””â”€â”€> Cari siswa berdasarkan barcode
  â””â”€â”€> Format data siswa (dict/json)
  â””â”€â”€> Opsional: validasi kehadiran

ğŸŸ¢ File: database.py
Start
  â””â”€â”€> Connect ke SQLite / PostgreSQL (via SQLAlchemy atau raw)
        â””â”€â”€> Buat tabel jika belum ada
              â””â”€â”€> Fungsi simpan data absensi
                    â””â”€â”€> Fungsi ambil rekap per siswa/per bulan

ğŸŸ¢ File: .env
DB_URL=sqlite:///db/absensi.db
FLASK_ENV=development
SECRET_KEY=xyz

File: requirements.txt
flask
python-dotenv
sqlalchemy
flask-cors

ğŸŸ¦ Flowchart Bagian 5: frontend-web
src/App.jsx
Start App.jsx
  â””â”€â”€> Import React Router
        â”œâ”€â”€> Route: `/login` â†’ Login.jsx
        â”œâ”€â”€> Route: `/admin` â†’ AdminDashboard.jsx
        â””â”€â”€> Route: `/orangtua` â†’ OrangTuaView.jsx

ğŸ“„ src/pages/Login.jsx

User Input: Userna
me + Password
  â””â”€â”€> Submit â†’ validate dummy or API
        â””â”€â”€> if success â†’ redirect ke /admin or /orangtua

ğŸ“„ src/pages/AdminDashboard.jsx

On Load:
  â””â”€â”€> Fetch data absensi dari API
        â””â”€â”€> Tampilkan data di <RekapTable />
        â””â”€â”€> Bisa filter tanggal/bulan

Fitur:
  â””â”€â”€> Logout â†’ redirect ke login

ğŸ“„ src/pages/OrangTuaView.jsx
On Load:
  â””â”€â”€> Fetch data anak dari API (berdasarkan akun orang tua)
        â””â”€â”€> Tampilkan <AbsensiCard /> per anak

 src/components/RekapTable.jsx

Props: data absensi
  â””â”€â”€> Render dalam bentuk table
        â””â”€â”€> Tambahkan warna/label (Hadir, Telat, Izin, dll)

ğŸ“„ src/components/AbsensiCard.jsx

Props: data 1 siswa
  â””â”€â”€> Tampilkan nama, kelas, total hadir, telat, dll

ğŸ“„ src/api.js

Base URL: http://localhost:5000/
  â””â”€â”€> Function: getAbsensi(), postLogin(), getRekap()

ğŸ“„ tailwind.config.js
Setup styling untuk theme
  â””â”€â”€> Tambahkan warna custom kalau perlu

ğŸ“„ package.json
Dependencies:
  â””â”€â”€> react, react-router-dom, axios, tailwindcss, vite, dll

ğŸ“ public/
favicon, logo, dan gambar lainnya
